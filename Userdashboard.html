<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>User Dashboard - DriveMatrix</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<style>
:root{
  --sidebar-bg: #212529;
  --accent:#1d976c;
}
body { background: #eef1f7; font-family: "Poppins", sans-serif; margin:0; }

/* Sidebar */
.sidebar {
    width:230px;
    height:100vh;
    background:#212529;
    position:fixed;
    color:#fff;
    padding-top:30px;
}
.sidebar h4 { text-align:center; margin-bottom:30px; margin-top: 0px;font-size: 22px;}
.sidebar a {
    margin-top:0px;
    display:block;
    padding:13px 20px;
    text-decoration:none;
    color:#d9d9d9;
    font-size:16px;
}
.sidebar a:hover {
    background:#343a40;
    color:#fff;
}
/* Main */
.main { margin-left:240px; padding:20px; }

/* Topbar */
.topbar {
  background: #fff; padding:14px; border-radius:10px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.08);
}

/* Cards */
.card-box { transition:.25s; }
.card-box:hover { transform: translateY(-6px); box-shadow: 0 10px 20px rgba(0,0,0,0.08); }

.stat-ttl { font-size:13px; color:#6b7280; }
.stat-val { font-size:22px; font-weight:700; }
.profile-img { width:42px; height:42px; border-radius:50%; object-fit:cover; }

@media (max-width:767px){
  .sidebar { position: relative; width:100%; height:auto; }
  .main { margin-left:0; padding:12px; }
}

/* Notification Dropdown */
.notification-dropdown {
    position: absolute;
    top: 45px;
    right: 0;
    width: 280px;
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 4px 14px rgba(0,0,0,0.2);
    display: none;
    z-index: 999;
}

.notification-item {
    padding: 10px 14px;
    border-bottom: 1px solid #eee;
    cursor: pointer;
}
.notification-item:hover {
    background: #f5f5f5;
}
.notification-item:last-child {
    border-bottom: none;
}
</style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar">
    <h4>User Panel</h4>
    <a href="Userdashboard.html" style="background:#343a40; color:#fff;">
      <i class="bi bi-speedometer2"></i> Dashboard
    </a>
    <a href="My-booking.html"><i class="bi bi-car-front"></i> My Bookings</a>
    <a href="Notification.html"><i class="bi bi-bell"></i> Notifications</a>
    <a href="Userpanelprofile.html"><i class="bi bi-person"></i> Profile</a>
    <a href="Setting.html"><i class="bi bi-gear"></i> Settings</a>
    <a href="Logout.html"><i class="bi bi-box-arrow-right"></i> Logout</a>
</div>

<!-- Main -->
<div class="main">

  <!-- TOPBAR -->
  <div class="topbar d-flex justify-content-between align-items-center mb-4">
    <div>
      <h5 class="m-0">Welcome back, <span style="color:var(--accent)">Mahi</span> ðŸ‘‹</h5>
      <small class="text-muted">Here's your activity summary</small>
    </div>

    <div class="d-flex align-items-center gap-3">

      <!-- ðŸ”” NOTIFICATION BELL WITH DROPDOWN -->
      <div class="position-relative" id="notifWrapper" style="cursor:pointer;">
        <i class="bi bi-bell fs-4" id="notifBell"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">3</span>

        <!-- DROPDOWN MENU -->
        <div class="notification-dropdown" id="notifDropdown">
            <div class="notification-item">
                <strong>New Ride Booked</strong><br>
                <small>2 mins ago</small>
            </div>
            <div class="notification-item">
                <strong>Payment Received</strong><br>
                <small>1 hour ago</small>
            </div>
            <div class="notification-item">
                <strong>Driver Assigned</strong><br>
                <small>Yesterday</small>
            </div>
        </div>
      </div>

      <img src="D:/Images/d2.jpg" class="profile-img" alt="profile">
    </div>
  </div>

  <!-- STATS -->
  <div class="row g-4">
    <div class="col-md-4">
      <div class="card p-3 card-box">
        <div class="d-flex justify-content-between">
          <div>
            <div class="stat-ttl">Total Bookings</div>
            <div class="stat-val">10</div>
          </div>
          <i class="bi bi-journal-text fs-2 text-primary"></i>
        </div>
        <div class="mt-2 small text-muted">Latest: 2 bookings this month</div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="card p-3 card-box">
        <div class="d-flex justify-content-between">
          <div>
            <div class="stat-ttl">Upcoming Trips</div>
            <div class="stat-val">3</div>
          </div>
          <i class="bi bi-calendar-event fs-2 text-success"></i>
        </div>
        <div class="mt-2 small text-muted">Next: Swift Dzire on 26 Nov 2025</div>
      </div>
    </div>
  </div>

  <!-- UPCOMING TRIP -->
  <div class="card mt-4 shadow-sm">
    <div class="card-header d-flex justify-content-between">
      <strong>Upcoming Trip</strong>
      <small class="text-muted">Next 3 days</small>
    </div>
    <div class="card-body">
      <div class="row align-items-center">
        <div class="col-md-8">
          <h5>Swift Dzire</h5>
          <p class="small text-muted">Pickup: Railway Station â€¢ 26 Nov 2025 â€¢ 10:00 AM</p>
          <span class="badge bg-success">Confirmed</span>
        </div>
        <div class="col-md-4 text-end">
          <a href="manage-booking.html?id=101" class="btn btn-outline-primary">
            Manage Booking
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- RECENT BOOKINGS -->
  <div class="card mt-4 shadow-sm">
    <div class="card-header bg-dark text-white d-flex justify-content-between">
      <strong>Recent Bookings</strong>
      <a href="My-booking.html" class="btn btn-light btn-sm">View All</a>
    </div>

    <div class="card-body table-responsive">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Car</th>
            <th>Date</th>
            <th>Pickup</th>
            <th>Amount</th>
            <th>Status</th>
            <th>Manage</th>
          </tr>
        </thead>
        <tbody id="recentBookingsBody"></tbody>
      </table>
    </div>
  </div>

</div>

<script>
/* ðŸ“Œ Recent Booking Sample Data */
const recentBookings = [
  { id:101, car:"Thar", date:"10 Nov 2025", pickup:"V.V Nagar", amount:8000, status:"Completed" },
  { id:102, car:"Marazzo", date:"22 Oct 2025", pickup:"Anand Bus Stand", amount:5500, status:"Cancelled" },
  { id:103, car:"Kia Seltos", date:"18 Oct 2025", pickup:"Railway Station", amount:5000, status:"Pending" },
  { id:104, car:"Eeco", date:"29 Nov 2025", pickup:"Karmsad", amount:1800, status:"Completed" }
];

function renderRecentBookings(){
  const tbody = document.getElementById("recentBookingsBody");
  tbody.innerHTML = "";

  recentBookings.forEach(b => {
    tbody.innerHTML += `
      <tr>
        <td>${b.car}</td>
        <td>${b.date}</td>
        <td>${b.pickup}</td>
        <td>â‚¹${b.amount}</td>
        <td>
          ${b.status === "Completed" ? '<span class="badge bg-success">Completed</span>' :
            b.status === "Pending" ? '<span class="badge bg-warning">Pending</span>' :
            '<span class="badge bg-danger">Cancelled</span>'}
        </td>
        <td>
          <a href="manage-booking.html?id=${b.id}" class="btn btn-sm btn-primary">Manage</a>
        </td>
      </tr>`;
  });
}
renderRecentBookings();

/* ðŸ”” Notification Dropdown Control */
const bell = document.getElementById("notifBell");
const dropdown = document.getElementById("notifDropdown");

bell.addEventListener("click", () => {
    dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
});

// Close dropdown when clicking outside
document.addEventListener("click", (e) => {
    if (!document.getElementById("notifWrapper").contains(e.target)) {
        dropdown.style.display = "none";
    }
});
</script>

</body>
</html>
