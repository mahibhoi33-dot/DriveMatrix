<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Booking History - Car Rental</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<style>
body {
    background: linear-gradient(135deg, #dfe9f3, #ffffff);
}

.booking-card {
    background: #fff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0px 4px 15px rgba(0,0,0,0.1);
    transition: 0.3s;
}
/* Sidebar */
.sidebar {
    width: 230px; height: 100vh; position: fixed;
    background: #212529; color: white; padding-top: 30px;
}
.sidebar h4 { text-align: center; margin-bottom: 25px; }
.sidebar a {
    display: block; padding: 12px 20px; color: #d9d9d9;
    text-decoration: none; transition: .3s;
}
.sidebar a:hover, .active { background: #343a40 !important; color: #fff !important; }


.booking-card:hover {
    transform: scale(1.01);
}
/* Content */
.main { margin-left: 240px; padding: 20px; }


.status-badge {
    font-size: 14px;
    padding: 5px 10px;
}
</style>
</head>
<body>
<!-- SIDEBAR -->
<div class="sidebar">
    <h4>Driver Panel</h4>

    <a href="driverdashboard.html"><i class="bi bi-speedometer2"></i> Dashboard</a>
    <a href="driver-rides.html"><i class="bi bi-car-front"></i> Assigned Rides</a>
    <a class="active" href="bookinghistroy.html"><i class="bi bi-clock-history"></i> BookingÂ History</a>
    <a href="driver-earnings.html"><i class="bi bi-cash-stack"></i> Earnings</a>
    <a href="driver-notification.html"><i class="bi bi-bell"></i> Notifications</a>
    <a href="driver-bank-details.html"><i class="bi bi-person-badge"></i> Bank Details</a>
    <a href="driver-documents.html"><i class="bi bi-file-earmark-text"></i> Documents</a>
    <a href="driver-payment.html"><i class="bi bi-cash-stack"></i> Payments</a>
    <a href="driversupport.html"><i class="bi bi-headset"></i> Support</a>
    <a href="driver-profile.html"><i class="bi bi-person"></i> Profile</a>
    <a href="driverlogout.html"><i class="bi bi-box-arrow-right"></i> Logout</a>
</div>
<div class="main">

<div class="container mt-4">

    <h2 class="mb-3 fw-bold">ðŸ“˜ Booking History</h2>

    <!-- FILTER SECTION -->
    <div class="card p-3 mb-3 shadow-sm">
        <div class="row">
            <div class="col-md-4">
                <label>Status Filter</label>
                <select class="form-control" id="statusFilter">
                    <option value="all">All</option>
                    <option value="completed">Completed</option>
                    <option value="cancelled">Cancelled</option>
                    <option value="upcoming">Upcoming</option>
                </select>
            </div>

            <div class="col-md-4">
                <label>Date Filter</label>
                <input type="date" id="dateFilter" class="form-control">
            </div>

            <div class="col-md-4 pt-4">
                <button class="btn btn-primary w-100" onclick="loadBookings()">Apply Filters</button>
            </div>
        </div>
    </div>

    <!-- BOOKING LIST -->
    <div id="bookingList"></div>

</div>
</div>

<script>
// SAMPLE BOOKINGS (Replace with API response)
let bookings = [
    {
        car: "Swift Dzire",
        date: "2025-11-10",
        pickup: "Anand Railway Station",
        status: "completed",
        amount: 5000,
        id: 1
    },
    {
        car: "Innova Crysta",
        date: "2025-10-22",
        pickup: "Vidyanagar",
        status: "cancelled",
        amount: 0,
        id: 2
    }
];

function loadBookings() {
    let statusFilter = document.getElementById("statusFilter").value;
    let dateFilter = document.getElementById("dateFilter").value;

    let list = document.getElementById("bookingList");
    list.innerHTML = "";

    bookings.forEach(b => {
        if ((statusFilter === "all" || b.status === statusFilter) &&
            (dateFilter === "" || b.date === dateFilter)) {

            let statusColor =
                b.status === "completed" ? "success" :
                b.status === "cancelled" ? "danger" : "warning";

            list.innerHTML += `
                <div class="booking-card mb-3">
                    <div class="row">
                        <div class="col-md-8">
                            <h5>ðŸš— <b>${b.car}</b></h5>
                            <p>Date: ${b.date}</p>
                            <p>Pickup: ${b.pickup}</p>
                            <span class="badge bg-${statusColor} status-badge">${b.status}</span>
                        </div>

                        <div class="col-md-4 text-end">
                            <h4>â‚¹${b.amount}</h4>
                            <button class="btn btn-primary btn-sm mt-2" onclick="viewReceipt(${b.id})">
                                View Receipt
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }
    });
}

// Receipt button click
function viewReceipt(id) {
    alert("Redirect to: receipt.html?id=" + id);
    // window.location.href = receipt.html?booking=${id};
}

loadBookings();
</script>

</body>
</html>